<!DOCTYPE html>
<script>
function avg()
{
var table=document.getElementById("myTable");
var rows=table.rows;
var num=0;
for(var i = 1; i < rows.length; i++){
 var cells = rows[i].cells;
 var sum = 0;
 average=0;
 for(var x = 2; x<(cells.length-1); x++){
  var cell = cells[x];
  var check1=parseInt(cell.innerHTML);
  if(cell.innerHTML=='<br>')
  {
  	cell.innerHTML="";
   cell.style.backgroundColor = "white";
	cell.style.color="black";
  }
else if(isNaN(cell.innerHTML) | (check1<0)|(check1>100)&&(cell.innerHTML!='-'))
  {
 	cell.innerHTML="<td>"+"-"+"</td>";
  }
  else
  {
  if(cell.innerHTML!='-')
  {
  cell.style.backgroundColor = "white";
	cell.style.color="black";
  sum += parseInt(cell.innerHTML);
  }}
  if(cell.innerHTML=="-")
  {
  
   cell.style.backgroundColor = "yellow";
	cell.style.color="black";
  	num++;
  }
  }
 var average = (sum/5).toFixed(0);
rows[i].cells[cells.length-1].innerHTML = "<td>"+ " "+"</td>";
var res=average.toString();
res=res+"%";
if(average<40)
{
	rows[i].cells[cells.length-1].innerHTML += "<td>"+res+"</td>";
	 rows[i].cells[cells.length-1].style.backgroundColor = "red";
	 rows[i].cells[cells.length-1].style.color="white";

	 }
else{
rows[i].cells[cells.length-1].innerHTML += "<td>"+res+"</td>";
rows[i].cells[cells.length-1].style.backgroundColor = "white";
	 rows[i].cells[cells.length-1].style.color="black";
	}
 
}
rows[0].cells[cells.length-1].innerHTML = "<td>"+"Final Grade"+"</td>";
rows[0].cells[cells.length-1].style.backgroundColor = "lightgrey";
	 rows[0].cells[cells.length-1].style.color="black";
   
   
	 var str=num.toString();
	document.getElementById('output').value="Unsubmitted Assignments: "+str;
	str=" ";
};



</script> 
<style>
body 	{ background-color:#AFCAD5; }
h3 	{ color: black; text-align: center; }
p 	{ font-family: verdana; font-size: 15px; }
div 	{ font-family: verdana; font-size: 15px; }


	table, th,td{
	border:1px solid black;
	font-family:sans-serif;	
	font-size:15px;
	}
	td{
	font-size:15px;
	text-align:right;
	}
	table{
	background-color:white;}
	th, td{
	padding:5px;
	}
	th{
	text-align:centre;
	background-color:lightgrey;
	}
	button{
	font-size:15px;
	}
</style>
<HTML>
<div id="wrapper" align="center">



<table id="myTable" onkeyup="avg()">
<tr>
    <th>Student Name</th>
    <th>Student ID</th>
    <th>Assignment 1</th>
	<th>Assignment 2</th>
	<th>Assignment 3</th>
	<th>Assignment 4</th>
	<th>Assignment 5</th>
	<th>Final Grade</th>

  </tr>
    <tr>
        <td style="text-align: left;" contenteditable="true">Jill</td>
        <td style="text-align: left;" contenteditable="true" >76347</td>
        <td contenteditable="true">70</td>
		<td contenteditable="true" >80</td>
		<td contenteditable="true" >67</td>
		<td contenteditable="true" >82</td>
		<td contenteditable="true" >78</td>
		<td id="Final"></td>
    </tr>
   
    <tr>
        <td style="text-align: left;" contenteditable="true" >James</td>
        <td style="text-align: left;" contenteditable="true" >12095</td>
      <td contenteditable="true">70</td>
		<td contenteditable="true" >80</td>
		<td contenteditable="true" >92</td>
		<td contenteditable="true" >87</td>
		<td contenteditable="true" >90</td>
		<td id="Final"></td>
    </tr>
	
	 <tr>
        <td style="text-align: left;" contenteditable="true" >Kevin</td>
        <td style="text-align: left;" contenteditable="true" >79347</td>
        <td contenteditable="true" >63</td>
		<td contenteditable="true" >56</td>
		<td contenteditable="true" >-</td>
		<td contenteditable="true" >45</td>
		<td contenteditable="true" >-</td>
		<td id="Final"></td>
    </tr>
	
	 <tr>
        <td style="text-align: left;" contenteditable="true" >David</td>
        <td style="text-align: left;" contenteditable="true" >12346</td>
        <td contenteditable="true" >45</td>
		<td contenteditable="true" >-</td>
		<td contenteditable="true" >-</td>
		<td contenteditable="true" >-</td>
		<td contenteditable="true" >-</td>
		<td id="Final"></td>
    </tr>
	
	 <tr>
        <td style="text-align: left;" contenteditable="true" >Aoife</td>
        <td style="text-align: left;" contenteditable="true" >78563</td>
        <td contenteditable="true" >70</td>
		<td contenteditable="true" >80</td>
		<td contenteditable="true" >75</td>
		<td contenteditable="true" >78</td>
		<td contenteditable="true" >-</td>
		<td id="Final"></td>
    </tr>
	 <tr>
        <td style="text-align: left;" contenteditable="true" >Erin</td>
        <td style="text-align: left;" contenteditable="true" >76347</td>
        <td contenteditable="true" >57</td>
		<td contenteditable="true" >48</td>
		<td contenteditable="true" >-</td>
		<td contenteditable="true" >20</td>
		<td contenteditable="true" >-</td>
		<td id="Final"></td>
    </tr>
   
    <tr>
        <td style="text-align: left;" contenteditable="true">Lorraine</td>
        <td style="text-align: left;" contenteditable="true" >12095</td>
        <td contenteditable="true" >98</td>
		<td contenteditable="true" >89</td>
		<td contenteditable="true" >80</td>
		<td contenteditable="true" >70</td>
		<td contenteditable="true" >76</td>
		<td id="Final"></td>
    </tr>
	
	 <tr>
        <td style="text-align: left;" contenteditable="true" >Simon</td>
        <td style="text-align: left;" contenteditable="true" >79347</td>
        <td contenteditable="true" >90</td>
		<td contenteditable="true" >80</td>
		<td contenteditable="true" >85</td>
		<td contenteditable="true" >88</td>
		<td contenteditable="true" >89</td>
		<td id="Final"></td>
    </tr>
	
	 <tr>
        <td style="text-align: left;" contenteditable="true" >Mary</td>
        <td style="text-align: left;" contenteditable="true" >12346</td>
        <td contenteditable="true" >45</td>
		<td contenteditable="true" >70</td>
		<td contenteditable="true" >80</td>
		<td contenteditable="true" >0</td>
		<td contenteditable="true" >-</td>
		<td id="Final"></td>
    </tr>
	
	 <tr>
        <td style="text-align: left;" contenteditable="true" >Amy</td>
        <td style="text-align: left;" contenteditable="true" >78563</td>
        <td contenteditable="true" >70</td>
		<td contenteditable="true" >60</td>
		<td contenteditable="true" >52</td>
		<td contenteditable="true" >60</td>
		<td contenteditable="true" >-</td>
		<td id="Final"></td>
    </tr>
</table>
<br>
<br>


 <button type="button" onclick="avg()">Average</button>
 <output type="text" id="output" value="Incomplete Assignments"> 
 </output>
 
</div>
</html>
